plugins {
    id "it.tellnet.sass" version "1.2"
}

dependencies {
    compile project(':common-util')
    compile project(':common-verifier')
    compile project(':signer-protocol')

    compile 'org.eclipse.jetty.orbit:javax.servlet:3.0.0.v201112011016'
    compile 'org.kohsuke:libpam4j:1.7'

    testCompile project(':common-test')
    testCompile project(':common-util').sourceSets.test.output
}

task copyDeps(type: Copy) {
    into "$buildDir/libs"
    from configurations.compile
}

task checkRubySource(type: Exec) {
    commandLine = getRubySourceCheckCommand("$projectDir")
}

/* use task sassCompile to compile from scss to css */
sass {
    sassDir = "public/stylesheets/scss/"
    cssDir = "public/stylesheets"
}

check.dependsOn checkRubySource
build.dependsOn copyDeps
